<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Lou Groza Award Vote Tracker</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.6/dist/chart.umd.min.js" integrity="sha384-+8wJtDgHpSXo6Vf2e5z1+aQ4x9v4iiBsYonRYWZcj1QXkZE0DXLDRxKm+4seuNmn" crossorigin="anonymous"></script>
  </head>
  <body>
    <main>
      <header>
        <h1>Lou Groza Award Vote Tracker</h1>
        <p>
          This GitHub Pages site polls the latest public vote totals from the
          Lou Groza Award finalists page and charts the numbers for the three
          2025 finalists every minute.
        </p>
      </header>

      <section id="controls">
        <button id="refresh-button" type="button">Refresh now</button>
        <div class="status-line">
          <strong>Last update:</strong>
          <span id="last-updated">never</span>
        </div>
        <div id="status-message" role="status" aria-live="polite"></div>
      </section>

      <section id="chart-section">
        <h2>Vote Totals</h2>
        <canvas id="results-chart" width="640" height="320" aria-label="Vote totals bar chart"></canvas>
      </section>

      <section id="table-section">
        <h2>Latest Snapshot</h2>
        <table>
          <thead>
            <tr>
              <th scope="col">Finalist</th>
              <th scope="col">Votes</th>
            </tr>
          </thead>
          <tbody id="results-table-body">
            <tr>
              <td>Aidan Birr</td>
              <td data-label="Votes">0%</td>
            </tr>
            <tr>
              <td>Kansei Matsuzawa</td>
              <td data-label="Votes">0%</td>
            </tr>
            <tr>
              <td>Tate Sandell</td>
              <td data-label="Votes">0%</td>
            </tr>
          </tbody>
        </table>
      </section>

      <section id="notes">
        <h2>How It Works</h2>
        <p>
          The page downloads the HTML from
          <a href="https://lougrozaaward.com/finalists/2025/" target="_blank" rel="noopener noreferrer"
            >lougrozaaward.com/finalists/2025/</a
          >
          through a public CORS proxy, simulates opening the results view, and
          extracts the text inside elements with the
          <code>totalpoll-question-choices-item-votes-text</code> class. Values
          update automatically every 60 seconds, or you can use the "Refresh
          now" button.
        </p>
        <p class="disclaimer">
          If the upstream site changes its layout, hides results behind
          authentication, or the proxy becomes unavailable, the tracker will
          display an error message. Replace the proxy with your own endpoint if
          you need greater reliability.
        </p>
      </section>
    </main>

    <script src="script.js"></script>
  </body>
</html>

